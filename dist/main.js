!function(i){var e={};function t(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return i[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=i,t.c=e,t.d=function(i,e,r){t.o(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:r})},t.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,e){if(1&e&&(i=t(i)),8&e)return i;if(4&e&&"object"==typeof i&&i&&i.__esModule)return i;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:i}),2&e&&"string"!=typeof i)for(var s in i)t.d(r,s,function(e){return i[e]}.bind(null,s));return r},t.n=function(i){var e=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(e,"a",e),e},t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},t.p="",t(t.s=5)}([function(i){i.exports=JSON.parse('{"x":0,"y":0,"width":13,"height":20,"type":"player","group":"characters","name":"player","jumpImpulse":90,"maxSpeed":3,"maxJumpingSpeed":9,"isJumping":false,"isJumpTriggered":false,"isFalling":true,"accelerationModifier":6,"brakingModifier":6,"velocityX":0,"velocityY":0,"isMovingLeft":false,"isMovingRight":false,"friction":0.09,"isSprinting":false,"isDucking":false,"isKeepDucking":false,"isStuck":false,"isFacingLeft":false,"spriteMap":{},"frameWidth":37,"frameHeight":32,"movingPattern":null,"frames":{"idle":["player-idle-1","player-idle-2","player-idle-3","player-idle-4","player-idle-5","player-idle-6","player-idle-7","player-idle-8","player-idle-9"],"skip":["player-skip-1","player-skip-2","player-skip-3","player-skip-4","player-skip-5","player-skip-6","player-skip-7","player-skip-8"],"jump":["player-jump-1","player-jump-2","player-jump-3","player-jump-4"],"fall":["player-fall-1","player-fall-2","player-fall-3","player-fall-4"],"duck":["player-duck-1","player-duck-2","player-duck-3","player-duck-4"]}}')},function(i){i.exports=JSON.parse('{"x":0,"y":0,"width":25,"height":15,"type":"enemy","group":"characters","name":"slug","jumpImpulse":221,"maxSpeed":0.75,"maxJumpingSpeed":9,"isJumping":false,"isJumpTriggered":false,"isFalling":true,"accelerationModifier":6,"brakingModifier":6,"velocityX":0,"velocityY":0,"isMovingLeft":false,"isMovingRight":false,"friction":0.09,"isSprinting":false,"isDucking":false,"isKeepDucking":false,"isStuck":false,"isFacingLeft":false,"spriteMap":{},"frameWidth":32,"frameHeight":21,"movingPattern":{"type":"roaming","length":130},"frames":{"skip":["slug-skip-1","slug-skip-2","slug-skip-3","slug-skip-4"]}}')},function(i){i.exports=JSON.parse('{"frames":{"player-climb-1":{"frame":{"x":0,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-climb-2":{"frame":{"x":0,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-climb-3":{"frame":{"x":37,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-1":{"frame":{"x":37,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-2":{"frame":{"x":0,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-3":{"frame":{"x":37,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-4":{"frame":{"x":74,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-1":{"frame":{"x":74,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-2":{"frame":{"x":74,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-3":{"frame":{"x":0,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-4":{"frame":{"x":37,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-hurt-1":{"frame":{"x":74,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-hurt-2":{"frame":{"x":111,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-1":{"frame":{"x":111,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-2":{"frame":{"x":111,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-3":{"frame":{"x":111,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-4":{"frame":{"x":0,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-5":{"frame":{"x":37,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-6":{"frame":{"x":74,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-7":{"frame":{"x":111,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-8":{"frame":{"x":148,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-9":{"frame":{"x":148,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-1":{"frame":{"x":148,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-2":{"frame":{"x":148,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-3":{"frame":{"x":148,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-4":{"frame":{"x":0,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-1":{"frame":{"x":37,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-2":{"frame":{"x":74,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-3":{"frame":{"x":111,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-4":{"frame":{"x":148,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-5":{"frame":{"x":185,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-6":{"frame":{"x":185,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-7":{"frame":{"x":185,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-8":{"frame":{"x":185,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"slug-skip-1":{"frame":{"x":185,"y":128,"w":32,"h":21},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":32,"h":21},"sourceSize":{"w":32,"h":21},"pivot":{"x":0.5,"y":0.5}},"slug-skip-2":{"frame":{"x":185,"y":149,"w":32,"h":21},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":32,"h":21},"sourceSize":{"w":32,"h":21},"pivot":{"x":0.5,"y":0.5}},"slug-skip-3":{"frame":{"x":185,"y":170,"w":32,"h":21},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":32,"h":21},"sourceSize":{"w":32,"h":21},"pivot":{"x":0.5,"y":0.5}},"slug-skip-4":{"frame":{"x":0,"y":192,"w":32,"h":21},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":32,"h":21},"sourceSize":{"w":32,"h":21},"pivot":{"x":0.5,"y":0.5}},"enemy-death-1":{"frame":{"x":0,"y":213,"w":31,"h":29},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":31,"h":29},"sourceSize":{"w":31,"h":29},"pivot":{"x":0.5,"y":0.5}},"enemy-death-2":{"frame":{"x":31,"y":213,"w":31,"h":29},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":31,"h":29},"sourceSize":{"w":31,"h":29},"pivot":{"x":0.5,"y":0.5}},"enemy-death-3":{"frame":{"x":185,"y":191,"w":31,"h":29},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":31,"h":29},"sourceSize":{"w":31,"h":29},"pivot":{"x":0.5,"y":0.5}},"enemy-death-4":{"frame":{"x":62,"y":192,"w":31,"h":29},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":31,"h":29},"sourceSize":{"w":31,"h":29},"pivot":{"x":0.5,"y":0.5}},"enemy-death-5":{"frame":{"x":93,"y":192,"w":31,"h":29},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":31,"h":29},"sourceSize":{"w":31,"h":29},"pivot":{"x":0.5,"y":0.5}},"enemy-death-6":{"frame":{"x":124,"y":192,"w":31,"h":29},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":31,"h":29},"sourceSize":{"w":31,"h":29},"pivot":{"x":0.5,"y":0.5}},"carrot-1":{"frame":{"x":32,"y":192,"w":17,"h":19},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":17,"h":19},"sourceSize":{"w":17,"h":19},"pivot":{"x":0.5,"y":0.5}},"carrot-2":{"frame":{"x":62,"y":221,"w":17,"h":19},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":17,"h":19},"sourceSize":{"w":17,"h":19},"pivot":{"x":0.5,"y":0.5}},"carrot-3":{"frame":{"x":79,"y":221,"w":17,"h":19},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":17,"h":19},"sourceSize":{"w":17,"h":19},"pivot":{"x":0.5,"y":0.5}},"carrot-4":{"frame":{"x":96,"y":221,"w":17,"h":19},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":17,"h":19},"sourceSize":{"w":17,"h":19},"pivot":{"x":0.5,"y":0.5}},"star-1":{"frame":{"x":49,"y":192,"w":13,"h":13},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":13,"h":13},"sourceSize":{"w":13,"h":13},"pivot":{"x":0.5,"y":0.5}},"star-2":{"frame":{"x":113,"y":221,"w":13,"h":13},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":13,"h":13},"sourceSize":{"w":13,"h":13},"pivot":{"x":0.5,"y":0.5}},"star-3":{"frame":{"x":126,"y":221,"w":13,"h":13},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":13,"h":13},"sourceSize":{"w":13,"h":13},"pivot":{"x":0.5,"y":0.5}},"star-4":{"frame":{"x":139,"y":221,"w":13,"h":13},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":13,"h":13},"sourceSize":{"w":13,"h":13},"pivot":{"x":0.5,"y":0.5}},"star-5":{"frame":{"x":152,"y":221,"w":13,"h":13},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":13,"h":13},"sourceSize":{"w":13,"h":13},"pivot":{"x":0.5,"y":0.5}},"star-6":{"frame":{"x":165,"y":192,"w":13,"h":13},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":13,"h":13},"sourceSize":{"w":13,"h":13},"pivot":{"x":0.5,"y":0.5}},"player-climb-4":{"frame":{"x":0,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}}},"meta":{"app":"http://free-tex-packer.com","version":"0.6.5","image":"sprites.png","format":"RGBA8888","size":{"w":222,"h":242},"scale":1}}')},function(i){i.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"format":"json","target":"default.json"}},"height":20,"infinite":false,"layers":[{"id":10,"layers":[{"id":9,"image":"../images/default/background/clouds-back.png","name":"cloudsBack","opacity":1,"type":"imagelayer","visible":true,"x":0,"y":0},{"id":11,"image":"../images/default/background/clouds-front.png","name":"cloudsFront","opacity":1,"type":"imagelayer","visible":true,"x":0,"y":0},{"id":12,"image":"../images/default/background/bg-back.png","name":"bgBack","opacity":1,"type":"imagelayer","visible":true,"x":0,"y":0},{"id":13,"image":"../images/default/background/bg-front.png","name":"bgFront","opacity":1,"type":"imagelayer","visible":true,"x":0,"y":0}],"name":"background","opacity":1,"type":"group","visible":true,"x":0,"y":0},{"id":15,"layers":[{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,42,42,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,32,45,42,34,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,42,42,34,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,34,52,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,44,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,42,43,0,0,0,0,0,0,0,0,0,42,42,42,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,43,0,0,0,0,0,0,0,0,0,51,35,42,44,32,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,33,0,0,0,41,42,42,42,44,32,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,43,0,0,0,41,0,0,42,42,42,44,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,42,43,0,0,0,41,42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,34,53,0,0,0,51,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,43,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":20,"id":14,"name":"background","opacity":1,"type":"tilelayer","visible":true,"width":50,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":20,"id":8,"name":"middle-background","opacity":1,"type":"tilelayer","visible":true,"width":50,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,6,12,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,24,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,0,56,57,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,6,12,12,2,2,2,2,2,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,12,12,12,12,15,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,6,12,12,24,12,12,12,12,12,5,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,12,5,22,22,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,5,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,13,0,0,0,0,0,0,0,0,0,0,0,0,56,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,24,13,0,0,0,0,0,0,0,0,0,0,0,1,2,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,14,13,0,0,0,0,0,0,0,0,0,0,1,7,24,12,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,13,0,0,0,0,0,0,0,0,0,0,21,22,22,22,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,15,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,12,15,2,2,3,0,0,0,0,0,0,0,0,0,56,57,58,0,0,0,0,56,57,58,0,37,39,38,39,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,12,12,12,12,12,24,12,15,2,2,2,3,0,0,0,0,1,2,2,2,3,0,0,1,2,2,2,2,2,2,2,2,4,3,0,0,0,0,0,1,2,2,2,2,2,2,2,2,7,12,12,12,12,12,12,12,12,12,12,12,5,23,0,0,0,0,21,6,14,24,15,2,2,7,12,12,12,12,12,12,24,12,5,23,0,0,0,0,0,21,6,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,14,12,13,0,0,0,0,0,0,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,0,0,0,0,0,0,0,11,24,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,0,0,0,0,0,0,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,0,0,0,0,0,0,0,11,12,12,12,12,12,12,12,12,12],"height":20,"id":1,"name":"middle","opacity":1,"type":"tilelayer","visible":true,"width":50,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,29,28,29,28,29,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,18,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,27,28,29,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,18,18,47,0,0,0,0,49,18,18,18,20,0,0,17,18,61,18,18,0,18,18,0,18,0,0,0,0,0,0,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,28,29,28,30,0,0,0,0,27,28,29,28,30,0,0,27,28,29,28,29,28,29,28,29,28,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":20,"id":4,"name":"middle-front","opacity":1,"type":"tilelayer","visible":true,"width":50,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":20,"id":2,"name":"front","opacity":1,"type":"tilelayer","visible":true,"width":50,"x":0,"y":0}],"name":"tiles","opacity":1,"type":"group","visible":true,"x":0,"y":0},{"id":16,"layers":[{"color":"#00ffff","draworder":"topdown","id":7,"name":"characters","objects":[{"height":20,"id":6,"name":"player","rotation":0,"type":"player","visible":true,"width":15,"x":72.1667,"y":52.3333},{"height":20,"id":28,"name":"slug","rotation":0,"type":"enemy","visible":true,"width":25,"x":107.167,"y":71.6667}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"color":"#7b0000","draworder":"topdown","id":6,"name":"collisions","objects":[{"height":16,"id":1,"name":"full","rotation":0,"type":"full","visible":true,"width":61,"x":265,"y":258},{"height":9.6667,"id":3,"name":"full","rotation":0,"type":"full","visible":true,"width":78.3334,"x":186,"y":258},{"height":25,"id":4,"name":"full","rotation":0,"type":"full","visible":true,"width":185,"x":0,"y":258},{"height":37,"id":5,"name":"full","rotation":0,"type":"full","visible":true,"width":170,"x":0,"y":283},{"height":46,"id":7,"name":"full","rotation":0,"type":"full","visible":true,"width":244,"x":278,"y":274},{"height":16,"id":8,"name":"full","rotation":0,"type":"full","visible":true,"width":118,"x":0,"y":242},{"height":16,"id":9,"name":"full","rotation":0,"type":"full","visible":true,"width":71,"x":0,"y":226},{"height":144,"id":10,"name":"full","rotation":0,"type":"full","visible":true,"width":58,"x":0,"y":82},{"height":54,"id":11,"name":"full","rotation":0,"type":"full","visible":true,"width":43,"x":59,"y":82},{"height":22,"id":12,"name":"full","rotation":0,"type":"full","visible":true,"width":33,"x":102,"y":98},{"height":15,"id":13,"name":"full","rotation":0,"type":"full","visible":true,"width":17,"x":102,"y":121},{"height":16,"id":14,"name":"full","rotation":0,"type":"full","visible":true,"width":156,"x":378.167,"y":258},{"height":9,"id":15,"name":"full","rotation":0,"type":"full","visible":true,"width":13,"x":265,"y":274},{"height":22,"id":16,"name":"full","rotation":0,"type":"full","visible":true,"width":166,"x":634,"y":258},{"height":16,"id":17,"name":"full","rotation":0,"type":"full","visible":true,"width":154,"x":646,"y":280},{"height":24,"id":18,"name":"full","rotation":0,"type":"full","visible":true,"width":154,"x":646,"y":296},{"height":258,"id":19,"name":"left","rotation":0,"type":"left","visible":true,"width":26,"x":774,"y":0},{"height":64,"id":20,"name":"full","rotation":0,"type":"full","visible":true,"width":32,"x":742,"y":0},{"height":10,"id":22,"name":"full","rotation":0,"type":"full","visible":true,"width":26,"x":748,"y":64},{"height":26,"id":23,"name":"full","rotation":0,"type":"full","visible":true,"width":16,"x":758,"y":74},{"height":40,"id":24,"name":"full","rotation":0,"type":"full","visible":true,"width":47,"x":249,"y":178},{"height":24,"id":26,"name":"full","rotation":0,"type":"full","visible":true,"width":16,"x":233,"y":194}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0}],"name":"objects","opacity":1,"type":"group","visible":true,"x":0,"y":0}],"nextlayerid":21,"nextobjectid":30,"orientation":"orthogonal","renderorder":"left-up","tiledversion":"1.3.4","tileheight":16,"tilesets":[{"columns":10,"firstgid":1,"image":"../../../../sources/default/tileset.png","imageheight":96,"imagewidth":160,"margin":0,"name":"default","spacing":0,"tilecount":60,"tileheight":16,"tilewidth":16},{"columns":0,"firstgid":61,"grid":{"height":1,"orientation":"orthogonal","width":1},"margin":0,"name":"images","spacing":0,"tilecount":3,"tileheight":157,"tiles":[{"id":0,"image":"../../../../sources/default/images/tree-1.png","imageheight":77,"imagewidth":57,"type":"tree-1"},{"id":1,"image":"../../../../sources/default/images/tree-2.png","imageheight":108,"imagewidth":62,"type":"tree-2"},{"id":2,"image":"../../../../sources/default/images/house.png","imageheight":157,"imagewidth":181,"type":"house"}],"tilewidth":181}],"tilewidth":16,"type":"map","version":1.2,"width":50}')},function(i){i.exports=JSON.parse('{"frames":{"house":{"frame":{"x":0,"y":0,"w":181,"h":157},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":181,"h":157},"sourceSize":{"w":181,"h":157},"pivot":{"x":0.5,"y":0.5}},"tree-2":{"frame":{"x":0,"y":157,"w":62,"h":108},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":62,"h":108},"sourceSize":{"w":62,"h":108},"pivot":{"x":0.5,"y":0.5}},"tree-1":{"frame":{"x":62,"y":157,"w":57,"h":77},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":57,"h":77},"sourceSize":{"w":57,"h":77},"pivot":{"x":0.5,"y":0.5}}},"meta":{"app":"http://free-tex-packer.com","version":"0.6.5","image":"images.png","format":"RGBA8888","size":{"w":181,"h":265},"scale":1}}')},function(i,e,t){"use strict";function r(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}t.r(e);var s=class{constructor(){r(this,"isActive",void 0),r(this,"isHold",void 0),this.isActive=!1,this.isHold=!1}getInput(i){switch(i){case"keydown":this.isActive&&(this.isHold=!0),this.isActive=!0;break;case"keyup":this.isActive=!1,this.isHold=!1}}};function a(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function o(i,e,t,r,s,a,o){try{var h=i[a](o),l=h.value}catch(i){return void t(i)}h.done?e(l):Promise.resolve(l).then(r,s)}function h(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var l=class{constructor(i){h(this,"image",void 0),h(this,"tileSize",void 0),h(this,"columns",void 0),h(this,"flippedImage",void 0),h(this,"gl",void 0),h(this,"texture",void 0),h(this,"flippedTexture",void 0),this.gl=i,this.image=new Image}loadAsset(i){var e,t=arguments,r=this;return(e=function*(){var e=t.length>1&&void 0!==t[1]&&t[1],s=t.length>2?t[2]:void 0,a=t.length>3?t[3]:void 0;r.tileSize=s,r.columns=a,e?(yield Promise.all([r.loadImage(i),r.flipImage(i)]),r.texture=r.createTexture(r.image),r.flippedTexture=r.createTexture(r.flippedImage)):(yield r.loadImage(i),r.texture=r.createTexture(r.image))},function(){var i=this,t=arguments;return new Promise((function(r,s){var a=e.apply(i,t);function h(i){o(a,r,s,h,l,"next",i)}function l(i){o(a,r,s,h,l,"throw",i)}h(void 0)}))})()}createTexture(i){var e=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i),e}loadImage(i){return new Promise((e,t)=>{this.image.addEventListener("load",()=>e()),this.image.addEventListener("error",i=>t(i)),this.image.src=i})}flipImage(i){return new Promise((e,t)=>{var r=document.createElement("canvas").getContext("2d"),s=new Image;s.src=i,s.addEventListener("error",i=>t(i)),s.addEventListener("load",()=>{r.canvas.width=s.width,r.canvas.height=s.height,r.save(),r.scale(-1,1),r.drawImage(s,-s.width,0,s.width,s.height),r.restore(),this.flippedImage=r.canvas,e()},{once:!0})})}};function n(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function d(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var c="\n    attribute vec2 aPosition;\n    attribute vec2 aTextureCoord;\n\n    uniform vec2 uResolution;\n    uniform vec2 uTranslation;\n    uniform vec2 uScale;\n\n    uniform mat3 uTextureMatrix;\n\n    varying vec2 vTextureCoord;\n\n    void main() {\n      // Scale the position\n      vec2 scaledPosition = aPosition * uScale;\n\n      // Add in the translation.\n      vec2 position = scaledPosition + uTranslation;\n\n      // convert the position from pixels to clipspace\n      vec2 clipSpace = ((position / uResolution) * 2.0) - 1.0;\n\n      gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n\n      vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1)).xy;\n    }\n  ",m="\n    precision mediump float;\n\n    uniform sampler2D uTexture;\n\n    varying vec2 vTextureCoord;\n\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTextureCoord);\n    }\n  ";function u(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function g(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function p(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var f=class{constructor(i,e,t,r,s,a,o){p(this,"name",void 0),p(this,"x",void 0),p(this,"y",void 0),p(this,"xOld",void 0),p(this,"yOld",void 0),p(this,"width",void 0),p(this,"height",void 0),p(this,"type",void 0),p(this,"group",void 0),p(this,"isColliding",void 0),p(this,"collisionXDirection",void 0),p(this,"collisionYDirection",void 0),this.group=s,this.type=a,this.name=o,this.x=i,this.y=e,this.xOld=i,this.yOld=e,this.isColliding=!1,this.collisionXDirection="",this.collisionYDirection="",this.width=t,this.height=r}getTop(){return this.y}getRight(){return this.x+this.width}getLeft(){return this.x}getBottom(){return this.y+this.height}getOldTop(){return this.yOld}getOldRight(){return this.xOld+this.width}getOldLeft(){return this.xOld}getOldBottom(){return this.yOld+this.height}setTop(i){this.y=i}setRight(i){this.x=i-this.width}setLeft(i){this.x=i}setBottom(i){this.y=i-this.height}setOldTop(i){this.yOld=i}setOldRight(i){this.xOld=i-this.width}setOldLeft(i){this.xOld=i}setOldBottom(i){this.yOld=i-this.height}};function y(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function v(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}class w extends f{constructor(i,e){super(i.x,i.y,i.width,i.height,i.group,i.type,i.name),v(this,"jumpImpulse",void 0),v(this,"maxSpeed",void 0),v(this,"isJumping",void 0),v(this,"velocityX",void 0),v(this,"velocityY",void 0),v(this,"isMovingLeft",void 0),v(this,"isMovingRight",void 0),v(this,"accelerationModifier",void 0),v(this,"brakingModifier",void 0),v(this,"isFalling",void 0),v(this,"velocityYModifier",void 0),v(this,"isJumpTriggered",void 0),v(this,"maxJumpingSpeed",void 0),v(this,"friction",void 0),v(this,"animator",void 0),v(this,"isFacingLeft",void 0),v(this,"isSprinting",void 0),v(this,"isDucking",void 0),v(this,"isKeepDucking",void 0),v(this,"isKeepJumping",void 0),v(this,"isStuck",void 0),v(this,"defaults",void 0),v(this,"duckingTimer",void 0),v(this,"jumpingTimer",void 0),v(this,"movingPattern",void 0),this.defaults=i,this.jumpImpulse=i.jumpImpulse,this.maxSpeed=i.maxSpeed,this.maxJumpingSpeed=i.maxJumpingSpeed,this.isJumping=i.isJumping,this.isJumpTriggered=i.isJumpTriggered,this.isFalling=i.isFalling,this.accelerationModifier=i.accelerationModifier,this.brakingModifier=i.brakingModifier,this.velocityX=i.velocityX,this.velocityY=i.velocityY,this.isMovingLeft=i.isMovingLeft,this.isMovingRight=i.isMovingRight,this.friction=i.friction,this.isSprinting=i.isSprinting,this.isDucking=i.isDucking,this.isKeepDucking=i.isKeepDucking,this.isStuck=i.isStuck,this.movingPattern=i.movingPattern,this.isFacingLeft=i.isFacingLeft,this.setAnimationDefaults(i,e)}setAnimationDefaults(i,e){this.animator=new class{constructor(i,e,t,r){y(this,"spriteMap",void 0),y(this,"frameWidth",void 0),y(this,"frameHeight",void 0),y(this,"frames",void 0),y(this,"count",void 0),y(this,"delay",void 0),y(this,"mode",void 0),y(this,"activeFrameSet",void 0),y(this,"frameIndex",void 0),y(this,"frameValue",void 0),y(this,"flippedSpriteMap",void 0),this.spriteMap=i,this.flippedSpriteMap=i,this.frameWidth=e,this.frameHeight=t,this.frames=r,this.count=0,this.delay=0,this.activeFrameSet="",this.mode="pause",this.frameIndex=0,this.frameValue="",this.getXFlippedCoords()}getXFlippedCoords(){this.flippedSpriteMap=JSON.parse(JSON.stringify(this.spriteMap)),Object.keys(this.flippedSpriteMap.frames).map(i=>{this.flippedSpriteMap.frames[i].frame.x=this.flippedSpriteMap.meta.size.w-this.flippedSpriteMap.frames[i].frame.x-this.flippedSpriteMap.frames[i].frame.w})}animate(){switch(this.mode){case"loop":this.loop()}}changeFrameset(i,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=i;this.frames[s]||(s=Object.keys(this.frames)[0]),this.activeFrameSet===s&&this.delay===t||(this.count=0,this.delay=t,this.mode=e,this.activeFrameSet=s,this.frameIndex=r,this.frameValue=this.frames[s][this.frameIndex])}loop(){for(this.count+=1;this.count>this.delay;)this.count-=this.delay,this.frameIndex=this.frameIndex<this.frames[this.activeFrameSet].length-1?this.frameIndex+1:0,this.frameValue=this.frames[this.activeFrameSet][this.frameIndex]}}(e,i.frameWidth,i.frameHeight,i.frames)}updateAnimation(){!this.isMovingLeft&&!this.isMovingRight||this.isJumping||this.isFalling?this.isFalling?this.animator.changeFrameset("fall","loop",4):this.isJumping?this.animator.changeFrameset("jump","loop",4):this.isDucking?this.animator.changeFrameset("duck","loop",4):this.animator.changeFrameset("idle","loop",4):this.isSprinting?this.animator.changeFrameset("skip","loop",1.33):this.animator.changeFrameset("skip","loop",2),this.animator.animate()}startDucking(){this.isJumping||this.isFalling||(this.isDucking||(this.y+=5,this.duckingTimer=setTimeout(()=>{this.isKeepDucking=!0},1e3)),this.isDucking=!0,this.isSprinting=!1,this.isMovingLeft=!1,this.isMovingRight=!1,this.brakingModifier=24,this.height=15)}stopDucking(){this.isDucking=!1,this.isKeepDucking=!1,clearTimeout(this.duckingTimer),this.brakingModifier=6,this.height=20,this.y-=5}startSprinting(){this.isJumping||this.isDucking||(this.isSprinting=!0,this.maxSpeed=5,this.accelerationModifier=10)}stopSprinting(){this.isSprinting=!1,this.maxSpeed=3,this.accelerationModifier=6}startMovingLeft(){this.isMovingRight||this.isDucking||(this.isFacingLeft=!0,this.isMovingLeft=!0)}stopMovingLeft(){this.isMovingLeft=!1}startMovingRight(){this.isMovingLeft||this.isDucking||(this.isFacingLeft=!1,this.isMovingRight=!0)}stopMovingRight(){this.isMovingRight=!1}startJumping(){this.isStuck||(this.isJumping||(this.jumpingTimer=setTimeout(()=>{this.isKeepJumping=!0},100)),this.isJumpTriggered=!0)}stopJumping(){clearTimeout(this.jumpingTimer),this.isJumpTriggered=!1,this.isKeepJumping=!1}update(i){this.adjustHorizontalMovement(),this.adjustVerticalMovement(i),this.updateAnimation(),!this.isColliding&&this.velocityY>0&&(this.isFalling=!0)}adjustVerticalMovement(i){var e,t,r,s=i;this.yOld=this.y,this.isKeepJumping&&this.velocityY<0?s*=.6:this.isKeepJumping=!1,this.velocityYModifier=s,!this.isJumpTriggered||this.isJumping||this.isFalling||(this.velocityYModifier-=this.jumpImpulse,this.isJumping=!0),this.velocityY=(e=this.velocityY+this.friction*this.velocityYModifier,t=-this.maxJumpingSpeed,r=this.maxJumpingSpeed,Math.max(t,Math.min(r,e))),this.y+=this.velocityY+this.friction*this.velocityY}adjustHorizontalMovement(){this.xOld=this.x,this.isMovingLeft?(this.velocityX>-this.maxSpeed&&(this.velocityX-=this.maxSpeed/this.accelerationModifier),this.velocityX<-this.maxSpeed&&(this.velocityX+=this.maxSpeed/this.accelerationModifier)):this.isMovingRight?(this.velocityX<this.maxSpeed&&(this.velocityX+=this.maxSpeed/this.accelerationModifier),this.velocityX>this.maxSpeed&&(this.velocityX-=this.maxSpeed/this.accelerationModifier)):this.isMovingLeft||this.isMovingRight||(this.velocityX<0&&(this.velocityX+=this.maxSpeed/this.brakingModifier,this.velocityX>0&&(this.velocityX=0)),this.velocityX>0&&(this.velocityX-=this.maxSpeed/this.brakingModifier,this.velocityX<0&&(this.velocityX=0))),this.x+=this.velocityX}}var x=t(2),S=t(0),b=t(1);function k(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function T(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var M=t.p+"images/sprites.png",z=t(3),C=t.p+"images/clouds-back.png",F=t.p+"images/clouds-front.png",R=t.p+"images/bg-back.png",P=t.p+"images/bg-front.png",L=t.p+"images/tileset.png",D=t.p+"images/images.png",O=t(4);function B(i,e,t,r,s,a,o){try{var h=i[a](o),l=h.value}catch(i){return void t(i)}h.done?e(l):Promise.resolve(l).then(r,s)}function A(i){return function(){var e=this,t=arguments;return new Promise((function(r,s){var a=i.apply(e,t);function o(i){B(a,r,s,o,h,"next",i)}function h(i){B(a,r,s,o,h,"throw",i)}o(void 0)}))}}window.addEventListener("DOMContentLoaded",A((function*(){var i={"00":{config:z,tileset:L,backgrounds:{cloudsBack:C,cloudsFront:F,bgBack:R,bgFront:P},images:{spriteSheet:D,spriteMap:O}}},e=i=>{r.handleKeyEvent(i.type,i.keyCode)},t=()=>{o.resize(document.documentElement.clientWidth,document.documentElement.clientHeight,9/16),o.render(p,h.world.width,h.world.height)},r=new class{constructor(){a(this,"left",void 0),a(this,"right",void 0),a(this,"up",void 0),a(this,"shift",void 0),a(this,"down",void 0),this.left=new s,this.right=new s,this.up=new s,this.shift=new s,this.down=new s}handleKeyEvent(i,e){switch(e){case 37:this.left.getInput(i);break;case 38:this.up.getInput(i);break;case 39:this.right.getInput(i);break;case 16:this.shift.getInput(i);break;case 40:this.down.getInput(i)}}},o=new class{constructor(i,e,t,r){g(this,"context",void 0),g(this,"mapTileset",void 0),g(this,"spriteSheet",void 0),g(this,"images",void 0),g(this,"camera",void 0),g(this,"renderer",void 0),g(this,"buffer",void 0),g(this,"backgrounds",void 0),g(this,"imagesMap",void 0),g(this,"imagesTilesData",void 0),this.context=i.getContext("2d"),this.buffer=document.createElement("canvas").getContext("webgl"),this.mapTileset=new l(this.buffer),this.spriteSheet=new l(this.buffer),this.backgrounds=[],this.imagesTilesData=e.filter(i=>"images"===i.name)[0],this.images=new l(this.buffer),this.camera=new class{constructor(i,e){n(this,"x",void 0),n(this,"y",void 0),n(this,"width",void 0),n(this,"height",void 0),n(this,"yDiff",void 0),n(this,"velocity",void 0),n(this,"velocityModifier",void 0),n(this,"maxVelocity",void 0),this.x=0,this.y=0,this.width=i,this.height=e,this.yDiff=0,this.velocity=0,this.velocityModifier=4,this.maxVelocity=this.height/2.5}adjustCamera(i,e,t){var r;i.isDucking?(r=i.y-(i.defaults.height-i.height)+this.velocity,i.isKeepDucking&&this.velocity<=this.maxVelocity&&(this.velocity+=this.velocityModifier)):(this.velocity&&(this.velocity-=this.velocityModifier),r=i.y+this.velocity);var s=i.x+i.defaults.width/2,a=r+i.defaults.height/2,o=s-this.width/2,h=a-this.height/2;o<0&&(o=0),s+this.width/2>e&&(o=e-this.width),h<0&&(h=0),a+this.height/2>t&&(h=t-this.height),this.x=o,this.y=h}}(t,r),this.renderer=new class{constructor(i){u(this,"gl",void 0),u(this,"rectangleProgram",void 0),u(this,"imageProgram",void 0),u(this,"aPosition",void 0),u(this,"uResolution",void 0),u(this,"uColor",void 0),this.gl=i,this.imageProgram=new class{constructor(i,e,t,r){switch(d(this,"vertexShader",void 0),d(this,"fragmentShader",void 0),d(this,"program",void 0),d(this,"aPosition",void 0),d(this,"aTextureCoord",void 0),d(this,"uResolution",void 0),d(this,"uColor",void 0),d(this,"uTranslation",void 0),d(this,"uScale",void 0),d(this,"uTexture",void 0),d(this,"positionBuffer",void 0),d(this,"textureCoordBuffer",void 0),d(this,"uTextureMatrix",void 0),this.vertexShader=this.compileShader(i,i.VERTEX_SHADER,e),this.fragmentShader=this.compileShader(i,i.FRAGMENT_SHADER,t),this.program=this.compileProgram(i),r){case"rectangle":this.aPosition=i.getAttribLocation(this.program,"aPosition"),this.uResolution=i.getUniformLocation(this.program,"uResolution"),this.uColor=i.getUniformLocation(this.program,"uColor");break;case"image":this.aPosition=i.getAttribLocation(this.program,"aPosition"),this.aTextureCoord=i.getAttribLocation(this.program,"aTextureCoord"),this.uResolution=i.getUniformLocation(this.program,"uResolution"),this.uTranslation=i.getUniformLocation(this.program,"uTranslation"),this.uScale=i.getUniformLocation(this.program,"uScale"),this.uTextureMatrix=i.getUniformLocation(this.program,"uTextureMatrix"),this.positionBuffer=i.createBuffer(),this.textureCoordBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,this.textureCoordBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STREAM_DRAW)}}compileShader(i,e,t){var r=i.createShader(e);if(i.shaderSource(r,t),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(r));return r}compileProgram(i){var e=i.createProgram();if(i.attachShader(e,this.vertexShader),i.attachShader(e,this.fragmentShader),i.linkProgram(e),!i.getProgramParameter(e,i.LINK_STATUS))throw i.deleteProgram(e),e=null,new Error(i.getProgramInfoLog(e));return e}}(this.gl,c,m,"image")}drawRect(i,e){}drawImage(i,e,t,r,s,a,o,h,l,n,d){void 0===h&&(h=r),void 0===l&&(l=s),void 0===a&&(a=e),void 0===o&&(o=t),void 0===n&&(n=a),void 0===d&&(d=o),this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.useProgram(this.imageProgram.program),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.imageProgram.positionBuffer),this.gl.enableVertexAttribArray(this.imageProgram.aPosition),this.gl.vertexAttribPointer(this.imageProgram.aPosition,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.imageProgram.textureCoordBuffer),this.gl.enableVertexAttribArray(this.imageProgram.aTextureCoord),this.gl.vertexAttribPointer(this.imageProgram.aTextureCoord,2,this.gl.FLOAT,!1,0,0),this.gl.uniform2f(this.imageProgram.uResolution,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform2f(this.imageProgram.uTranslation,h,l),this.gl.uniform2f(this.imageProgram.uScale,n,d);var c=this.translation(r/e,s/t);c=this.scale(c,a/e,o/t),this.gl.uniformMatrix3fv(this.imageProgram.uTextureMatrix,!1,c),this.gl.uniform1i(this.imageProgram.uTexture,0),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}translation(i,e){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=i,t[7]=e,t[8]=1,t}scale(i,e,t){var r=new Float32Array(9);return r[0]=e*i[0],r[1]=e*i[1],r[2]=e*i[2],r[3]=t*i[3],r[4]=t*i[4],r[5]=t*i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r}clear(){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}}(this.buffer)}drawObject(i,e,t,r,s,a,o,h){this.isObjectWithinCamera(s,a)&&this.renderer.drawImage(i?e.flippedTexture:e.texture,e.image.width,e.image.height,t,r,o,h,Math.round(s),Math.round(a),o,h)}drawLargeTiles(i,e,t){var r=this.imagesTilesData.tiles[i-this.imagesTilesData.firstgid],s=this.imagesMap.frames[r.type],a=e,o=t-(s.frame.h-this.mapTileset.tileSize);this.isObjectWithinCamera(a,o,a+s.frame.w,o+s.frame.h)&&this.renderer.drawImage(this.images.texture,this.images.image.width,this.images.image.height,s.frame.x,s.frame.y,s.frame.w,s.frame.h,a,o,s.frame.w,s.frame.h)}drawBackgrounds(){for(var i=0;i<this.backgrounds.length;i+=1){var e=0,t=0,r=i+1;for(e+=this.camera.x/(6*r),t+=this.camera.y/(10.66*r),this.renderer.drawImage(this.backgrounds[i].texture,this.backgrounds[i].image.width,this.backgrounds[i].image.height,0,0,this.backgrounds[i].image.width,this.backgrounds[i].image.height,e,t,this.backgrounds[i].image.width,this.backgrounds[i].image.height);e+this.backgrounds[i].image.width<=this.camera.x+this.camera.width;)e+=this.backgrounds[i].image.width,this.renderer.drawImage(this.backgrounds[i].texture,this.backgrounds[i].image.width,this.backgrounds[i].image.height,0,0,this.backgrounds[i].image.width,this.backgrounds[i].image.height,e,t,this.backgrounds[i].image.width,this.backgrounds[i].image.height)}}drawCollisionDebugMap(i){for(var e={top:[255,0,0,.5],"top-left":[255,100,0,.5],"top-right":[255,0,136,.5],left:[0,181,204,.5],right:[145,61,136,.5],bottom:[255,255,0,.5],"bottom-left":[255,255,204,.5],"bottom-right":[255,255,136,.5],full:[200,200,200,.5]},t=0;t<i.length;t+=1)for(var r=0;r<i[t].length;r+=1)"collisions"===i[t][r].group&&this.renderer.drawRect([i[t][r].x,i[t][r].y,i[t][r].x+i[t][r].width,i[t][r].y,i[t][r].x,i[t][r].y+i[t][r].height,i[t][r].x,i[t][r].y+i[t][r].height,i[t][r].x+i[t][r].width,i[t][r].y,i[t][r].x+i[t][r].width,i[t][r].y+i[t][r].height],e[i[t][r].type])}drawMap(i,e){for(var t=0;t<i.length;t+=1)if(i[t]){var r=i[t],s=t,a=r%this.mapTileset.columns,o=a?Math.floor(r/this.mapTileset.columns):r/this.mapTileset.columns-1,h=a?a-1:this.mapTileset.columns-1,l=Math.floor(s/e),n=s%e,d=this.mapTileset.tileSize*h,c=this.mapTileset.tileSize*o,m=this.mapTileset.tileSize*n,u=this.mapTileset.tileSize*l;r>=this.imagesTilesData.firstgid&&this.drawLargeTiles(r,m,u),this.isObjectWithinCamera(m,u)&&this.renderer.drawImage(this.mapTileset.texture,this.mapTileset.image.width,this.mapTileset.image.height,d,c,this.mapTileset.tileSize,this.mapTileset.tileSize,m,u,this.mapTileset.tileSize,this.mapTileset.tileSize)}}isObjectWithinCamera(i,e,t,r){void 0===t&&(t=i),void 0===r&&(r=e);var s=2*this.mapTileset.tileSize;return!(e>this.camera.y+this.camera.height+s||r<this.camera.y-s||i>this.camera.x+this.camera.width+s||t<this.camera.x-s)}render(i,e,t){this.camera.adjustCamera(i,e,t),this.context.drawImage(this.buffer.canvas,this.camera.x,this.camera.y,this.camera.width,this.camera.height,0,0,this.context.canvas.width,this.context.canvas.height)}resize(i,e,t){e/i>t?(this.context.canvas.height=i*t,this.context.canvas.width=i):(this.context.canvas.height=e,this.context.canvas.width=e/t),this.context.imageSmoothingEnabled=!1}}(document.getElementById("game"),i["00"].config.tilesets,256,144),h=new class{constructor(i){var e,t,r;r=void 0,(t="world")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.world=new class{constructor(i){k(this,"gravity",void 0),k(this,"height",void 0),k(this,"width",void 0),k(this,"backgroundMap",void 0),k(this,"middleBackgroundMap",void 0),k(this,"middleFrontMap",void 0),k(this,"middleMap",void 0),k(this,"frontMap",void 0),k(this,"collisionDebugMap",void 0),k(this,"columns",void 0),k(this,"rows",void 0),k(this,"tileSize",void 0),k(this,"collider",void 0),k(this,"map",void 0),k(this,"rawLayers",void 0),k(this,"collisions",void 0),k(this,"characters",void 0),k(this,"brain",void 0),this.gravity=10,this.columns=i.width,this.rows=i.height,this.tileSize=i.tilewidth,this.width=this.columns*this.tileSize,this.height=this.rows*this.tileSize,this.brain=new class{constructor(){var i,e,t;t=void 0,(e="characters")in(i=this)?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,this.characters=[]}bindCharacter(i){this.characters.push({character:i,startingPoint:{x:i.x,y:i.y},reachedLeftBorder:!1,reachedRightBorder:!1})}update(){this.checkBroadPhase()}checkBroadPhase(){for(var i=0;i<this.characters.length;i+=1)if(this.characters[i].character.movingPattern)switch(this.characters[i].character.movingPattern.type){case"roaming":this.processRoaming(i)}}processRoaming(i){var{character:e,startingPoint:t,reachedLeftBorder:r,reachedRightBorder:s}=this.characters[i],a=e.x>t.x-e.movingPattern.length,o=e.x<e.movingPattern.length+t.x,h="left"!==e.collisionXDirection,l="right"!==e.collisionXDirection,n=e.x<t.x-e.movingPattern.length,d=e.x>e.movingPattern.length+t.x;!r&&!s||!r&&s?a&&h?(e.stopMovingRight(),e.startMovingLeft(),e.collisionXDirection=""):d?(e.stopMovingLeft(),e.startMovingRight()):(this.characters[i].reachedLeftBorder=!0,this.characters[i].reachedRightBorder=!1):r&&!s&&(o&&l?(e.stopMovingLeft(),e.startMovingRight(),e.collisionXDirection=""):n?(e.stopMovingRight(),e.startMovingLeft()):(this.characters[i].reachedRightBorder=!0,this.characters[i].reachedLeftBorder=!1))}},this.processMap(i),this.collider=new class{routeNarrowPhaseCharacterVsCollision(i,e){switch(i.isStuck=!1,e.type){case"top":this.isCollidingFromTop(i,e)&&this.collideCharacterVsCollisionFromTop(i,e);break;case"right":this.isCollidingFromRight(i,e)&&this.collideCharacterVsCollisionFromRight(i,e);break;case"bottom":this.isCollidingFromBottom(i,e)&&this.collideCharacterVsCollisionFromBottom(i,e);break;case"left":this.isCollidingFromLeft(i,e)&&this.collideCharacterVsCollisionFromLeft(i,e);break;case"top-left":if(this.isCollidingFromTop(i,e))return void this.collideCharacterVsCollisionFromTop(i,e);this.isCollidingFromLeft(i,e)&&this.collideCharacterVsCollisionFromLeft(i,e);break;case"top-right":if(this.isCollidingFromTop(i,e))return void this.collideCharacterVsCollisionFromTop(i,e);this.isCollidingFromRight(i,e)&&this.collideCharacterVsCollisionFromRight(i,e);break;case"bottom-right":if(this.isCollidingFromRight(i,e))return void this.collideCharacterVsCollisionFromRight(i,e);this.isCollidingFromBottom(i,e)&&this.collideCharacterVsCollisionFromBottom(i,e);break;case"bottom-left":if(this.isCollidingFromLeft(i,e))return void this.collideCharacterVsCollisionFromLeft(i,e);this.isCollidingFromBottom(i,e)&&this.collideCharacterVsCollisionFromBottom(i,e);break;case"full":if(this.isCollidingFromTop(i,e))return void this.collideCharacterVsCollisionFromTop(i,e);if(this.isCollidingFromLeft(i,e))return void this.collideCharacterVsCollisionFromLeft(i,e);if(this.isCollidingFromRight(i,e))return void this.collideCharacterVsCollisionFromRight(i,e);this.isCollidingFromBottom(i,e)&&this.collideCharacterVsCollisionFromBottom(i,e),i.isStuck=!0}}routeNarrowPhasePlayerVsEnemy(i,e){this.isCollidingFromTop(i,e)||this.isCollidingFromBottom(e,i)?console.log("Player damaged enemy. Hoorah!"):(this.isCollidingFromLeft(i,e)||this.isCollidingFromRight(i,e)||this.isCollidingFromBottom(i,e)||this.isCollidingFromTop(e,i)||this.isCollidingFromLeft(e,i)||this.isCollidingFromRight(e,i))&&console.log("Enemy damaged player. Ouch!")}isCollidingFromTop(i,e){return i.getBottom()>e.getTop()&&i.getOldBottom()<=e.getTop()}isCollidingFromRight(i,e){return i.getLeft()<e.getRight()&&i.getOldLeft()>=e.getRight()}isCollidingFromBottom(i,e){return i.getTop()<e.getBottom()&&i.getOldTop()>=e.getBottom()}isCollidingFromLeft(i,e){return i.getRight()>e.getLeft()&&i.getOldRight()<=e.getLeft()}processBroadPhase(i){return this.bruteForce(i)}bruteForce(i){var e=i.length,t=[];if(e>1)for(var r=0;r<e;r+=1)for(var s=i[r],a=r+1;a<e;a+=1){var o=i[a];this.broadPhaseComparator(s,o)?(this.broadPhaseResolver(s,o),t.push([s,o]),s.isColliding=!0,o.isColliding=!0):(s.isColliding=!1,o.isColliding=!1)}return t}broadPhaseComparator(i,e){return("characters"===i.group||"characters"===e.group)&&(i.getLeft()<e.getRight()&&e.getLeft()<i.getRight()&&i.getTop()<e.getBottom()&&e.getTop()<i.getBottom())}broadPhaseResolver(i,e){"characters"===i.group&&"collisions"===e.group?this.routeNarrowPhaseCharacterVsCollision(i,e):"characters"===e.group&&"collisions"===i.group?this.routeNarrowPhaseCharacterVsCollision(e,i):"characters"===i.group&&"characters"===e.group&&this.routeNarrowPhasePlayerVsEnemy("player"===i.type?i:e,"player"===e.type?i:e)}collideCharacterVsCollisionFromTop(i,e){i.setBottom(e.getTop()-.01),i.velocityY=0,i.isJumping=!1,i.isFalling=!1,i.collisionYDirection="bottom",e.collisionYDirection="top"}collideCharacterVsCollisionFromRight(i,e){i.setLeft(e.x+e.width),i.velocityX=0,i.collisionXDirection="left",e.collisionXDirection="right"}collideCharacterVsCollisionFromBottom(i,e){i.setTop(e.y+e.height),i.velocityY=0,i.isJumping=!1,i.isFalling=!0,i.collisionYDirection="top",e.collisionYDirection="bottom"}collideCharacterVsCollisionFromLeft(i,e){i.setRight(e.getLeft()-.01),i.velocityX=0,i.collisionXDirection="right",e.collisionXDirection="left"}}}processMap(i){this.rawLayers=i.layers.reduce((i,e)=>{switch(e.name){case"tiles":e.layers.forEach(e=>i[e.name]=e.data);break;case"objects":e.layers.forEach(e=>{switch(e.name){case"collisions":i[e.name]=e.objects.map(i=>new f(i.x,i.y,i.width,i.height,"collisions",i.type,"block"));break;case"characters":i[e.name]=e.objects.map(i=>{switch(i.type){case"player":return S.x=i.x,S.y=i.y,new w(S,x);case"enemy":switch(i.name){case"slug":b.x=i.x,b.y=i.y;var e=new w(b,x);return this.brain.bindCharacter(e),e}}})}})}return i},{}),this.backgroundMap=[...this.rawLayers.background],this.middleBackgroundMap=[...this.rawLayers["middle-background"]],this.middleMap=[...this.rawLayers.middle],this.middleFrontMap=[...this.rawLayers["middle-front"]],this.frontMap=[...this.rawLayers.front],this.collisions=[...this.rawLayers.collisions],this.characters=[...this.rawLayers.characters],this.collisionDebugMap=[]}processBoundariesCollision(i){i.x<0&&(i.x=0,i.velocityX=0),i.x+i.width>this.width&&(i.x=this.width-i.width,i.velocityX=0),i.y<0&&(i.y=0,i.velocityY=0),i.y+i.height>this.height&&(i.isJumping=!1,i.y=this.height-i.height,i.velocityY=0)}update(){this.characters.forEach(i=>{i.update(this.gravity),this.processBoundariesCollision(i)});var i=this.collider.processBroadPhase([...this.characters,...this.collisions]);this.collisionDebugMap=i,this.brain.update()}}(i)}update(){this.world.update()}}(i["00"].config),[p]=h.world.characters.filter(i=>"player"===i.type),y=new class{constructor(i,e,t){T(this,"render",void 0),T(this,"update",void 0),T(this,"animationFrame",void 0),T(this,"handleRun",void 0),T(this,"timeStep",void 0),T(this,"accumulatedTime",void 0),T(this,"previousTime",void 0),T(this,"isUpdated",void 0),this.update=t,this.render=e,this.animationFrame=()=>{},this.handleRun=()=>{},this.timeStep=i,this.previousTime=0,this.accumulatedTime=0,this.isUpdated=!1}run(i){for(this.accumulatedTime+=i-this.previousTime,this.previousTime=i,this.accumulatedTime>=3*this.timeStep&&(this.accumulatedTime=this.timeStep);this.accumulatedTime>=this.timeStep;)this.accumulatedTime-=this.timeStep,this.update(this.timeStep),this.isUpdated=!0;this.isUpdated&&(this.isUpdated=!1,this.render()),this.animationFrame=window.requestAnimationFrame(this.handleRun)}start(){this.accumulatedTime=this.timeStep,this.previousTime=window.performance.now(),window.requestAnimationFrame(this.handleRun=this.run.bind(this))}stop(){window.cancelAnimationFrame(this.animationFrame)}}(1e3/30,()=>{o.renderer.clear(),o.drawBackgrounds(),o.drawMap(h.world.backgroundMap,h.world.columns),h.world.middleBackgroundMap.length&&o.drawMap(h.world.middleBackgroundMap,h.world.columns),o.drawMap(h.world.middleMap,h.world.columns),h.world.middleFrontMap.length&&o.drawMap(h.world.middleFrontMap,h.world.columns),h.world.characters.forEach(i=>{var e;e=i.isFacingLeft?i.animator.flippedSpriteMap.frames[i.animator.frameValue].frame:i.animator.spriteMap.frames[i.animator.frameValue].frame,o.drawObject(i.isFacingLeft,o.spriteSheet,e.x,e.y,i.x+Math.floor(.5*i.width-.5*e.w),i.y-Math.floor(e.h-i.height),e.w,e.h)}),o.drawMap(h.world.frontMap,h.world.columns),window.SHOW_COLLISIONS&&o.drawCollisionDebugMap(h.world.collisionDebugMap),o.render(p,h.world.width,h.world.height)},()=>{r.left.isActive?p.startMovingLeft():p.isMovingLeft&&p.stopMovingLeft(),r.right.isActive?p.startMovingRight():p.isMovingRight&&p.stopMovingRight(),r.up.isActive&&!r.up.isHold?p.startJumping():p.isJumpTriggered&&p.stopJumping(),r.shift.isActive?p.startSprinting():p.isSprinting&&p.stopSprinting(),r.down.isActive?p.startDucking():p.isDucking&&p.stopDucking(),h.update()});o.buffer.canvas.height=h.world.height,o.buffer.canvas.width=h.world.width,window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("resize",t);var v=i["00"].backgrounds;Object.keys(v).forEach(()=>{o.backgrounds.push(new l(o.buffer))}),yield Promise.all([o.mapTileset.loadAsset(i["00"].tileset,!1,i["00"].config.tilesets[0].tilewidth,i["00"].config.tilesets[0].columns),o.images.loadAsset(i["00"].images.spriteSheet),o.spriteSheet.loadAsset(M,!0),...Object.keys(v).map((i,e)=>o.backgrounds[e].loadAsset(v[i]))]),o.imagesMap=i["00"].images.spriteMap,t(),y.start()})))}]);
//# sourceMappingURL=main.js.map