!function(e){var i={};function t(r){if(i[r])return i[r].exports;var s=i[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var s in e)t.d(r,s,function(i){return e[i]}.bind(null,s));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"frames":{"player-climb-1":{"frame":{"x":0,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-climb-2":{"frame":{"x":0,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-climb-3":{"frame":{"x":37,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-1":{"frame":{"x":37,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-2":{"frame":{"x":0,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-3":{"frame":{"x":37,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-duck-4":{"frame":{"x":74,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-1":{"frame":{"x":74,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-2":{"frame":{"x":74,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-3":{"frame":{"x":0,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-fall-4":{"frame":{"x":37,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-hurt-1":{"frame":{"x":74,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-hurt-2":{"frame":{"x":111,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-1":{"frame":{"x":111,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-2":{"frame":{"x":111,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-3":{"frame":{"x":111,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-4":{"frame":{"x":0,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-5":{"frame":{"x":37,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-6":{"frame":{"x":74,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-7":{"frame":{"x":111,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-8":{"frame":{"x":148,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-idle-9":{"frame":{"x":148,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-1":{"frame":{"x":148,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-2":{"frame":{"x":148,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-3":{"frame":{"x":148,"y":128,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-jump-4":{"frame":{"x":0,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-1":{"frame":{"x":37,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-2":{"frame":{"x":74,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-3":{"frame":{"x":111,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-4":{"frame":{"x":148,"y":160,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-5":{"frame":{"x":185,"y":0,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-6":{"frame":{"x":185,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-7":{"frame":{"x":185,"y":64,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-skip-8":{"frame":{"x":185,"y":96,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}},"player-climb-4":{"frame":{"x":0,"y":32,"w":37,"h":32},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":37,"h":32},"sourceSize":{"w":37,"h":32},"pivot":{"x":0.5,"y":0.5}}},"meta":{"app":"http://free-tex-packer.com","version":"0.6.5","image":"player.png","format":"RGBA8888","size":{"w":222,"h":192},"scale":1}}')},function(e){e.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"format":"json","target":"map.json"}},"height":40,"infinite":false,"layers":[{"color":"#7b0000","draworder":"topdown","id":9,"name":"collisionsObjects","objects":[{"height":0.25,"id":21,"name":"","rotation":0,"type":"","visible":true,"width":0.25,"x":241,"y":318},{"height":8,"id":23,"name":"top","rotation":0,"type":"collision","visible":true,"width":216,"x":104,"y":312},{"height":8,"id":24,"name":"top-left","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":56,"y":296},{"height":8,"id":25,"name":"top-left","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":64,"y":288},{"height":8,"id":26,"name":"top-left","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":48,"y":304},{"height":8,"id":28,"name":"top","rotation":0,"type":"collision","visible":true,"width":72,"x":104,"y":240},{"height":8,"id":29,"name":"top","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":72,"y":288},{"height":8,"id":30,"name":"top-right","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":80,"y":288},{"height":8,"id":31,"name":"top-right","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":88,"y":296},{"height":8,"id":32,"name":"top-right","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":96,"y":304},{"height":16,"id":34,"name":"full","rotation":0,"type":"collision","visible":true,"width":16,"x":240,"y":280},{"height":8,"id":35,"name":"top","rotation":0,"type":"collision","visible":true,"width":48,"x":0,"y":312},{"height":8,"id":36,"name":"left","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":104,"y":248},{"height":8,"id":37,"name":"right","rotation":-0.100437,"type":"collision","visible":true,"width":8,"x":168,"y":248},{"height":8,"id":40,"name":"bottom","rotation":0,"type":"collision","visible":true,"width":72,"x":104,"y":256},{"height":304,"id":41,"name":"right","rotation":0,"type":"collision","visible":true,"width":8,"x":0,"y":8},{"height":304,"id":42,"name":"left","rotation":0,"type":"collision","visible":true,"width":8,"x":312,"y":8},{"height":8,"id":43,"name":"bottom","rotation":0,"type":"collision","visible":true,"width":320,"x":0,"y":0},{"height":8,"id":44,"name":"top","rotation":-0.100437,"type":"collision","visible":true,"width":16,"x":8,"y":272},{"height":8,"id":45,"name":"top","rotation":-0.100437,"type":"collision","visible":true,"width":16,"x":8,"y":192},{"height":8,"id":46,"name":"top","rotation":-0.100437,"type":"collision","visible":true,"width":23.9987,"x":8,"y":232},{"height":8,"id":47,"name":"top","rotation":-0.100437,"type":"collision","visible":true,"width":24,"x":112,"y":192},{"height":16,"id":48,"name":"full","rotation":-0.100437,"type":"collision","visible":true,"width":128,"x":168,"y":160}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"data":[130,130,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,108,131,108,108,108,108,108,108,108,108,108,108,108,108,108,131,131,131,131,108,108,108,108,130,131,130,107,130,130,130,130,130,130,130,130,130,130,130,130,107,108,131,131,108,107,107,108,131,131,107,107,107,107,107,107,108,131,108,107,108,131,131,131,130,131,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,108,107,108,107,107,107,107,107,130,130,130,130,107,108,108,131,107,108,108,130,131,131,130,131,130,130,130,130,130,130,130,130,130,130,130,107,108,108,108,108,108,107,108,107,130,130,130,107,107,107,108,108,108,131,131,131,107,108,107,108,130,131,130,131,107,107,108,108,108,108,108,108,108,108,108,108,108,131,131,131,131,107,107,130,107,107,107,130,130,130,131,131,131,130,131,108,107,108,107,108,130,131,130,131,130,107,107,107,107,107,107,107,107,107,107,107,108,108,108,108,108,108,108,130,130,130,130,130,131,131,107,130,130,131,108,108,107,108,107,108,130,131,130,131,130,130,130,107,108,108,108,108,108,108,108,108,108,131,131,131,131,131,131,130,131,107,130,130,107,107,130,130,131,108,108,131,107,108,107,108,130,131,130,131,130,107,107,107,107,108,131,131,131,131,131,107,107,107,107,107,108,108,130,130,131,107,107,107,130,130,130,131,131,131,131,108,107,108,107,108,130,131,130,131,130,107,130,107,108,108,108,108,108,108,108,108,108,108,108,108,108,108,107,130,107,130,130,130,107,107,107,130,130,130,131,131,108,108,107,108,130,131,130,131,109,107,107,107,108,131,131,131,131,131,131,131,131,131,131,135,131,131,109,131,107,130,131,131,109,110,111,112,131,108,108,108,108,108,107,108,109,110,130,131,130,130,107,108,108,108,108,108,108,108,108,108,108,108,108,108,108,108,130,131,107,107,130,107,132,133,134,135,131,131,131,131,131,108,107,108,132,133,130,107,130,107,130,131,131,131,131,109,131,131,131,131,131,131,131,131,131,131,130,107,107,130,107,107,107,107,107,107,130,130,130,130,131,131,108,108,130,131,130,107,130,107,135,107,107,107,107,107,107,109,110,111,112,130,130,131,107,130,130,107,130,109,110,111,112,130,130,130,131,108,108,108,130,131,109,110,111,112,130,107,107,107,130,130,130,130,130,130,130,132,133,134,135,131,110,111,112,107,107,107,130,132,133,134,135,131,131,131,131,131,131,131,108,130,132,133,134,135,130,107,130,130,130,130,130,130,130,131,108,108,108,108,130,132,133,134,135,107,130,130,130,130,130,131,131,131,131,131,130,130,109,131,131,130,131,108,130,131,130,130,130,130,131,131,131,131,131,131,131,131,108,108,131,131,107,108,108,108,130,109,108,108,131,131,131,108,108,108,108,108,131,107,108,130,131,108,130,131,130,130,131,130,130,109,130,130,130,130,130,135,131,131,108,108,108,108,108,131,130,131,108,131,107,130,131,131,131,131,131,131,131,107,107,130,131,108,130,131,130,130,109,130,131,108,108,108,108,130,131,131,131,131,131,131,131,131,131,107,130,131,131,130,130,130,130,130,130,131,108,108,108,107,130,130,131,108,130,131,131,130,131,107,107,107,107,107,107,107,107,107,109,110,111,112,131,108,108,108,107,130,107,107,109,110,111,112,130,131,131,131,131,108,130,131,109,108,130,131,131,130,130,130,130,130,130,130,130,130,130,130,131,131,110,111,112,131,131,131,130,130,130,130,132,133,134,135,130,130,109,110,111,112,130,131,131,131,130,131,107,107,130,130,130,130,130,130,130,130,130,130,132,132,133,134,135,107,130,131,130,131,107,107,107,107,108,107,130,130,132,133,134,135,107,108,108,108,131,131,130,130,130,131,131,131,109,131,131,131,108,108,108,108,109,131,131,130,109,131,130,107,107,107,108,107,107,130,130,130,130,130,130,130,107,107,107,107,108,131,131,108,109,108,108,108,108,108,108,108,108,109,108,131,131,107,130,131,130,131,107,130,130,107,107,108,108,108,108,108,108,108,108,108,130,107,108,107,108,131,131,131,131,131,131,131,131,131,131,131,131,131,108,108,107,130,130,109,130,130,130,130,131,107,130,131,131,131,131,131,131,131,131,131,108,108,109,110,111,112,130,130,130,130,109,130,130,130,109,107,107,107,107,107,130,130,131,108,108,108,130,131,107,108,107,108,108,107,108,108,108,108,130,131,131,131,132,133,134,135,130,131,110,130,130,130,130,130,130,130,130,130,130,130,130,131,131,131,131,135,130,131,107,107,109,108,131,108,107,107,107,107,107,130,131,130,131,108,108,131,130,130,131,107,107,107,130,130,130,131,107,108,108,108,108,108,108,108,108,108,130,131,107,107,107,107,107,109,110,111,112,130,130,130,131,130,131,131,108,131,107,130,130,130,108,130,135,131,108,108,108,135,131,131,131,131,135,131,131,131,130,131,107,130,130,130,130,132,133,134,135,107,107,130,131,130,130,131,108,131,130,109,131,131,131,131,131,131,131,131,131,107,107,135,107,107,107,130,131,131,130,131,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,131,108,131,130,131,132,133,134,135,136,137,130,131,132,133,134,108,136,137,130,131,132,133,134,135,136,137,130,131,132,133,134,135,136,137,130,131,132,133,134,135,136,137,153,154,155,156,157,158,159,160,153,154,155,156,157,158,159,160,153,154,155,156,157,158,159,160,153,154,155,156,157,158,159,160,153,154,155,156,157,158,159,160,176,177,178,179,180,181,182,183,176,177,178,179,180,181,182,183,176,177,178,179,180,181,182,183,176,177,178,179,180,181,182,183,176,177,178,179,180,181,182,183,180,181,182,183,180,181,182,183,180,181,182,183,180,181,182,180,180,180,180,180,180,180,181,182,183,182,183,183,183,183,159,180,180,180,180,181,182,183,183,160,180,181,182,183,180,181,182,183,180,181,182,183,180,181,182,180,181,182,183,179,180,181,182,183,183,180,181,182,183,183,183,183,183,183,183,183,183,183,159,160,159,159,160,160,160,160,160,160,180,181,182,183,183,159,180,180,181,182,183,180,181,182,183,183,159,180,180,181,182,183,159,159,159,159,159,159,159,160,160,160,182,159,159,159,159,159,159,159,159,180,181,182,183,183,183,183,183,182,183,183,183,183,183,159,182,182,180,181,182,183,182,182,182,182,182,182,159,160,183,183,176,182,182,182,182,182,182,182,182,182,183,160,160,181,180,181,182,183,183,183,182,183,159,160,159,160,160,160,160,160,160,160,160,160,160,160,160,160,182,183,180,179,179,179,179,179,180,180,182,183,183,183,183,160,160,179,159,159,159,159,182,182,159,160,182,183,183,183,183,183,183,183,183,183,183,183,183,183,182,183,180,180,180,180,180,180,180,180,179,180,179,182,183,183,183,179,182,182,182,159,159,159,159,159,159,159,159,159,159,159,159,159,159,159,159,159,159,159,159,182,180,180,180,180,180,180,180,180,180,180,180,180,180,180,180,180,180,182,183,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182,182],"height":40,"id":2,"name":"background","opacity":1,"type":"tilelayer","visible":true,"width":40,"x":0,"y":0},{"data":[94,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,95,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,109,0,0,0,0,0,109,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,109,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,109,0,0,0,0,0,109,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,109,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,109,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,109,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,71,72,72,72,72,72,72,72,72,72,72,72,72,72,72,73,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,79,80,0,0,0,0,0,0,0,0,0,0,0,121,122,123,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,144,145,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,167,168,169,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,170,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,79,80,80,0,0,0,0,0,0,0,0,0,0,0,171,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,25,26,26,26,26,26,26,26,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,48,163,49,165,141,140,165,163,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,71,72,72,72,72,72,72,72,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,79,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,27,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,0,25,26,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,71,73,0,0,0,0,0,0,0,48,50,0,0,0,0,0,0,25,118,165,117,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,50,0,0,0,0,0,25,118,163,165,141,117,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,117,26,26,26,26,26,118,164,164,141,164,165,117,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,118],"height":40,"id":1,"name":"middle","opacity":1,"type":"tilelayer","visible":true,"width":40,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,30,30,30,30,30,30,31,29,30,30,30,29,30,29,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,77,77,75,75,75,76,77,77,77,75,77,75,75,77,75,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,29,0,30,35,33,34,29,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,30,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":40,"id":5,"name":"front","opacity":1,"type":"tilelayer","visible":false,"width":40,"x":0,"y":0}],"nextlayerid":11,"nextobjectid":49,"orientation":"orthogonal","renderorder":"left-up","tiledversion":"1.3.4","tileheight":8,"tilesets":[{"columns":23,"firstgid":1,"image":"../../../../tilesheets/tileset.png","imageheight":72,"imagewidth":184,"margin":0,"name":"tileset","spacing":0,"tilecount":207,"tileheight":8,"tilewidth":8}],"tilewidth":8,"type":"map","version":1.2,"width":40}')},function(e,i,t){"use strict";function r(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.r(i);var s=class{constructor(){r(this,"isDown",void 0),r(this,"isActive",void 0),this.isDown=!1,this.isActive=!1}getInput(e){this.isDown!==e&&(this.isActive=e),this.isDown=e}};function o(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function a(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var h=class{constructor(e,i){a(this,"image",void 0),a(this,"tileSize",void 0),a(this,"columns",void 0),a(this,"flippedImage",void 0),this.image=new Image,this.tileSize=e,this.columns=i}loadAsset(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Promise.all([this.loadImage(e),this.flipImage(e)]):this.loadImage(e)}loadImage(e){return new Promise((i,t)=>{this.image.addEventListener("load",()=>i()),this.image.addEventListener("error",e=>t(e)),this.image.src=e})}flipImage(e){return new Promise((i,t)=>{var r=document.createElement("canvas").getContext("2d"),s=new Image;s.src=e,s.addEventListener("error",e=>t(e)),s.addEventListener("load",()=>{r.canvas.width=s.width,r.canvas.height=s.height,r.save(),r.scale(-1,1),r.drawImage(s,-s.width,0,s.width,s.height),r.restore(),this.flippedImage=r.canvas,i()},{once:!0})})}};function l(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function n(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var d=class{constructor(e,i,t,r,s,o){n(this,"name",void 0),n(this,"x",void 0),n(this,"y",void 0),n(this,"xOld",void 0),n(this,"yOld",void 0),n(this,"width",void 0),n(this,"height",void 0),n(this,"type",void 0),this.type=s,this.name=o,this.x=e,this.y=i,this.xOld=e,this.yOld=i,this.width=t,this.height=r}getTop(){return this.y}getRight(){return this.x+this.width}getLeft(){return this.x}getBottom(){return this.y+this.height}getOldTop(){return this.yOld}getOldRight(){return this.xOld+this.width}getOldLeft(){return this.xOld}getOldBottom(){return this.yOld+this.height}setTop(e){this.y=e}setRight(e){this.x=e-this.width}setLeft(e){this.x=e}setBottom(e){this.y=e-this.height}setOldTop(e){this.yOld=e}setOldRight(e){this.xOld=e-this.width}setOldLeft(e){this.xOld=e}setOldBottom(e){this.yOld=e-this.height}};function p(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var c=t(0);function m(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class u extends d{constructor(){super(16,204,15,20,"character","player"),m(this,"color1",void 0),m(this,"jumpImpulse",void 0),m(this,"maxSpeed",void 0),m(this,"isJumping",void 0),m(this,"velocityX",void 0),m(this,"velocityY",void 0),m(this,"isMovingLeft",void 0),m(this,"isMovingRight",void 0),m(this,"accelerationModifier",void 0),m(this,"brakingModifier",void 0),m(this,"isFalling",void 0),m(this,"velocityYModifier",void 0),m(this,"isJumpTriggered",void 0),m(this,"maxJumpingSpeed",void 0),m(this,"friction",void 0),m(this,"animator",void 0),m(this,"isFacingLeft",void 0),m(this,"isSprinting",void 0),m(this,"isCroaching",void 0),m(this,"isKeepCroaching",void 0),m(this,"croachingCounter",void 0),this.jumpImpulse=221,this.maxSpeed=3,this.maxJumpingSpeed=9,this.isJumping=!1,this.isJumpTriggered=!1,this.isFalling=!0,this.accelerationModifier=6,this.brakingModifier=6,this.velocityX=0,this.velocityY=0,this.isMovingLeft=!1,this.isMovingRight=!1,this.friction=.09,this.isSprinting=!1,this.isCroaching=!1,this.isKeepCroaching=!1,this.croachingCounter=0,this.isFacingLeft=!1,this.setAnimationDefaults(c)}setAnimationDefaults(e){this.animator=new class{constructor(e,i,t,r){p(this,"spriteMap",void 0),p(this,"frameWidth",void 0),p(this,"frameHeight",void 0),p(this,"frames",void 0),p(this,"count",void 0),p(this,"delay",void 0),p(this,"mode",void 0),p(this,"activeFrameSet",void 0),p(this,"frameIndex",void 0),p(this,"frameValue",void 0),p(this,"flippedSpriteMap",void 0),this.spriteMap=e,this.flippedSpriteMap=e,this.frameWidth=i,this.frameHeight=t,this.frames=r,this.count=0,this.delay=0,this.activeFrameSet="",this.mode="pause",this.frameIndex=0,this.frameValue="",this.getXFlippedCoords()}getXFlippedCoords(){this.flippedSpriteMap=JSON.parse(JSON.stringify(this.spriteMap)),Object.keys(this.flippedSpriteMap.frames).map(e=>{this.flippedSpriteMap.frames[e].frame.x=this.flippedSpriteMap.meta.size.w-this.flippedSpriteMap.frames[e].frame.x-this.flippedSpriteMap.frames[e].frame.w})}animate(){switch(this.mode){case"loop":this.loop()}}changeFrameset(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.activeFrameSet===e&&this.delay===t||(this.count=0,this.delay=t,this.mode=i,this.activeFrameSet=e,this.frameIndex=r,this.frameValue=this.frames[e][this.frameIndex])}loop(){for(this.count+=1;this.count>this.delay;)this.count-=this.delay,this.frameIndex=this.frameIndex<this.frames[this.activeFrameSet].length-1?this.frameIndex+1:0,this.frameValue=this.frames[this.activeFrameSet][this.frameIndex]}}(e,37,32,{idle:["player-idle-1","player-idle-2","player-idle-3","player-idle-4","player-idle-5","player-idle-6","player-idle-7","player-idle-8","player-idle-9"],skip:["player-skip-1","player-skip-2","player-skip-3","player-skip-4","player-skip-5","player-skip-6","player-skip-7","player-skip-8"],jump:["player-jump-1","player-jump-2","player-jump-3","player-jump-4"],fall:["player-fall-1","player-fall-2","player-fall-3","player-fall-4"],duck:["player-duck-1","player-duck-2","player-duck-3","player-duck-4"]})}updateAnimation(){!this.isMovingLeft&&!this.isMovingRight||this.isJumping||this.isFalling?this.isFalling?this.animator.changeFrameset("fall","loop",4):this.isJumping?this.animator.changeFrameset("jump","loop",4):this.isCroaching?this.animator.changeFrameset("duck","loop",4):this.animator.changeFrameset("idle","loop",4):this.isSprinting?this.animator.changeFrameset("skip","loop",1.33):this.animator.changeFrameset("skip","loop",2),this.animator.animate()}startCroaching(){this.isCroaching=!0,this.isSprinting=!1,this.isMovingLeft=!1,this.isMovingRight=!1,this.brakingModifier=24,this.height=15}stopCroaching(){this.isCroaching=!1,this.isKeepCroaching=!1,this.croachingCounter=0,this.brakingModifier=6,this.height=20,this.y-=5}startSprinting(){this.isJumping||this.isCroaching||(this.isSprinting=!0,this.maxSpeed=5,this.accelerationModifier=10)}stopSprinting(){this.isSprinting=!1,this.maxSpeed=3,this.accelerationModifier=6}startMovingLeft(){this.isMovingRight||this.isCroaching||(this.isFacingLeft=!0,this.isMovingLeft=!0)}stopMovingLeft(){this.isMovingLeft=!1}startMovingRight(){this.isMovingLeft||this.isCroaching||(this.isFacingLeft=!1,this.isMovingRight=!0)}stopMovingRight(){this.isMovingRight=!1}jump(e){this.isJumpTriggered=e}update(e){this.adjustHorizontalMovement(),this.adjustVerticalMovement(e),this.updateAnimation()}adjustVerticalMovement(e){var i,t,r;this.velocityYModifier=e,this.yOld=this.y,!this.isJumpTriggered||this.isJumping||this.isFalling||(this.velocityYModifier=this.velocityYModifier-this.jumpImpulse,this.isJumping=!0),this.velocityY=(i=this.velocityY+this.friction*this.velocityYModifier,t=-this.maxJumpingSpeed,r=this.maxJumpingSpeed,Math.max(t,Math.min(r,i))),this.y+=this.velocityY+this.friction*this.velocityY}adjustHorizontalMovement(){this.xOld=this.x,this.isMovingLeft?(this.velocityX>-this.maxSpeed&&(this.velocityX-=this.maxSpeed/this.accelerationModifier),this.velocityX<-this.maxSpeed&&(this.velocityX+=this.maxSpeed/this.accelerationModifier)):this.isMovingRight?(this.velocityX<this.maxSpeed&&(this.velocityX+=this.maxSpeed/this.accelerationModifier),this.velocityX>this.maxSpeed&&(this.velocityX-=this.maxSpeed/this.accelerationModifier)):this.isMovingLeft||this.isMovingRight||(this.velocityX<0&&(this.velocityX+=this.maxSpeed/this.brakingModifier,this.velocityX>0&&(this.velocityX=0)),this.velocityX>0&&(this.velocityX-=this.maxSpeed/this.brakingModifier,this.velocityX<0&&(this.velocityX=0))),this.x+=this.velocityX}}function y(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function f(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var g=t(1),v=t.p+"images/tileset.png",w=t.p+"images/player.png";function x(e,i,t,r,s,o,a){try{var h=e[o](a),l=h.value}catch(e){return void t(e)}h.done?i(l):Promise.resolve(l).then(r,s)}function S(e){return function(){var i=this,t=arguments;return new Promise((function(r,s){var o=e.apply(i,t);function a(e){x(o,r,s,a,h,"next",e)}function h(e){x(o,r,s,a,h,"throw",e)}a(void 0)}))}}window.addEventListener("DOMContentLoaded",S((function*(){var e=e=>{t.handleKeyEvent(e.type,e.keyCode)},i=()=>{r.resize(document.documentElement.clientWidth,document.documentElement.clientHeight,9/16),r.render(a.world.player,a.world.width,a.world.height)},t=new class{constructor(){o(this,"left",void 0),o(this,"right",void 0),o(this,"up",void 0),o(this,"shift",void 0),o(this,"down",void 0),this.left=new s,this.right=new s,this.up=new s,this.shift=new s,this.down=new s}handleKeyEvent(e,i){var t="keydown"===e;switch(i){case 37:this.left.getInput(t);break;case 38:this.up.getInput(t);break;case 39:this.right.getInput(t);break;case 16:this.shift.getInput(t);break;case 40:this.down.getInput(t)}}},r=new class{constructor(e){l(this,"buffer",void 0),l(this,"context",void 0),l(this,"mapTileset",void 0),l(this,"playerSprite",void 0),l(this,"camera",void 0),this.buffer=document.createElement("canvas").getContext("2d"),this.context=e.getContext("2d"),this.mapTileset=new h(8,23),this.playerSprite=new h(8,23),this.camera={x:0,y:0,width:256,height:144}}drawObject(e,i,t,r,s,o,a){this.buffer.drawImage(e,i,t,o,a,Math.round(r),Math.round(s),o,a)}drawCollisionDebugMap(e){for(var i={top:"rgba(255, 0, 0, 0.8)","top-left":"rgba(255, 100, 0, 0.8)","top-right":"rgba(255, 0, 136, 0.8)",left:"rgba(0, 181, 204, 0.8)",right:"rgba(145, 61, 136, 0.8)",bottom:"rgba(255, 255, 0, 0.8)","bottom-left":"rgba(255, 255, 204, 0.8)","bottom-right":"rgba(255, 255, 136, 0.8)",full:"rgba(255, 255, 255, 0.8)"},t=0;t<e.length;t+=1)for(var r=0;r<e[t].length;r+=1)"collision"===e[t][r].type&&(this.buffer.fillStyle=i[e[t][r].name],this.buffer.fillRect(e[t][r].x,e[t][r].y,e[t][r].width,e[t][r].height))}drawMap(e,i){for(var t=0;t<e.length;t+=1){var r=e[t],s=t,o=Math.floor(r/this.mapTileset.columns),a=r%this.mapTileset.columns-1,h=Math.floor(s/i),l=s%i,n=this.mapTileset.tileSize*a,d=this.mapTileset.tileSize*o,p=this.mapTileset.tileSize*l,c=this.mapTileset.tileSize*h;this.buffer.drawImage(this.mapTileset.image,n,d,this.mapTileset.tileSize,this.mapTileset.tileSize,p,c,this.mapTileset.tileSize,this.mapTileset.tileSize)}}render(e,i,t){this.adjustCamera(e,i,t),this.context.drawImage(this.buffer.canvas,this.camera.x,this.camera.y,this.camera.width,this.camera.height,0,0,this.context.canvas.width,this.context.canvas.height)}adjustCamera(e,i,t){var r=e.x+e.width/2,s=e.y+e.height/2,o=r-this.camera.width/2,a=s-this.camera.height/2;o<0&&(o=0),r+this.camera.width/2>i&&(o=i-this.camera.width),a<0&&(a=0),s+this.camera.height/2>t&&(a=t-this.camera.height),this.camera.x=o,this.camera.y=a}resize(e,i,t){i/e>t?(this.context.canvas.height=e*t,this.context.canvas.width=e):(this.context.canvas.height=i,this.context.canvas.width=i/t),this.context.imageSmoothingEnabled=!1}}(document.getElementById("game")),a=new class{constructor(e){var i,t,r;r=void 0,(t="world")in(i=this)?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,this.world=new class{constructor(e){y(this,"gravity",void 0),y(this,"height",void 0),y(this,"width",void 0),y(this,"backgroundMap",void 0),y(this,"middleMap",void 0),y(this,"frontMap",void 0),y(this,"collisionDebugMap",void 0),y(this,"columns",void 0),y(this,"rows",void 0),y(this,"tileSize",void 0),y(this,"player",void 0),y(this,"collider",void 0),y(this,"map",void 0),y(this,"rawLayers",void 0),y(this,"collisionObjects",void 0),this.gravity=10,this.columns=40,this.rows=40,this.tileSize=8,this.width=this.columns*this.tileSize,this.height=this.rows*this.tileSize,this.processMap(e),this.height=this.tileSize*this.rows,this.width=this.tileSize*this.columns,this.player=new u,this.collider=new class{processNarrowPhase(e,i){switch(i.name){case"top":this.collideFromTop(e,i);break;case"right":this.collideFromRight(e,i);break;case"bottom":this.collideFromBottom(e,i);break;case"left":this.collideFromLeft(e,i);break;case"top-left":if(this.collideFromTop(e,i))return;this.collideFromLeft(e,i);break;case"top-right":if(this.collideFromTop(e,i))return;this.collideFromRight(e,i);break;case"bottom-right":if(this.collideFromRight(e,i))return;this.collideFromBottom(e,i);break;case"bottom-left":if(this.collideFromLeft(e,i))return;this.collideFromBottom(e,i);break;case"full":if(this.collideFromTop(e,i))return;if(this.collideFromLeft(e,i))return;if(this.collideFromRight(e,i))return;this.collideFromBottom(e,i)}}processBroadPhase(e){return this.bruteForce(e)}bruteForce(e){var i=e.length,t=[];if(i>1)for(var r=0;r<i;r+=1)for(var s=e[r],o=r+1;o<i;o+=1){var a=e[o];this.broadPhaseComparator(s,a)&&(this.broadPhaseResolver(s,a),t.push([s,a]))}return t}broadPhaseComparator(e,i){return("character"===e.type||"character"===i.type)&&(e.getLeft()<i.getRight()&&i.getLeft()<e.getRight()&&e.getTop()<i.getBottom()&&i.getTop()<e.getBottom())}broadPhaseResolver(e,i){"character"===e.type&&"collision"===i.type?this.processNarrowPhase(e,i):"character"===i.type&&"collision"===e.type&&this.processNarrowPhase(i,e)}collideFromTop(e,i){return e.getBottom()>i.getTop()&&e.getOldBottom()<=i.getTop()&&(e.setBottom(i.getTop()-.01),e.velocityY=0,e.isJumping=!1,e.isFalling=!1,!0)}collideFromRight(e,i){return e.getLeft()<i.getRight()&&e.getOldLeft()>=i.getRight()&&(e.setLeft(i.x+i.width),e.velocityX=0,!0)}collideFromBottom(e,i){return e.getTop()<i.getBottom()&&e.getOldTop()>=i.getBottom()&&(e.setTop(i.y+i.height),e.velocityY=0,e.isJumping=!1,e.isFalling=!0,!0)}collideFromLeft(e,i){return e.getRight()>i.getLeft()&&e.getOldRight()<=i.getLeft()&&(e.setRight(i.getLeft()-.01),e.velocityX=0,!0)}}}processMap(e){this.rawLayers=e.layers.reduce((e,i)=>{switch(i.type){case"tilelayer":e[i.name]=i.data;break;case"objectgroup":e[i.name]=i.objects.map(e=>new d(e.x,e.y,e.width,e.height,e.type,e.name))}return e},{}),this.backgroundMap=[...this.rawLayers.background],this.middleMap=[...this.rawLayers.middle],this.frontMap=[...this.rawLayers.front],this.collisionObjects=[...this.rawLayers.collisionsObjects],this.collisionDebugMap=[]}processCollision(){this.processBoundariesCollision(this.player);var e=this.collider.processBroadPhase([this.player,...this.collisionObjects]);this.collisionDebugMap=e,!e.length&&this.player.velocityY>0&&(this.player.isFalling=!0)}processBoundariesCollision(e){e.x<0&&(e.x=0,e.velocityX=0),e.x+e.width>this.width&&(e.x=this.width-e.width,e.velocityX=0),e.y<0&&(e.y=0,e.velocityY=0),e.y+e.height>this.height&&(e.isJumping=!1,e.y=this.height-e.height,e.velocityY=0)}update(){this.player.update(this.gravity),this.processCollision()}}(e)}update(){this.world.update()}}(g),n=new class{constructor(e,i,t){f(this,"render",void 0),f(this,"update",void 0),f(this,"animationFrame",void 0),f(this,"handleRun",void 0),f(this,"timeStep",void 0),f(this,"accumulatedTime",void 0),f(this,"previousTime",void 0),f(this,"isUpdated",void 0),this.update=t,this.render=i,this.animationFrame=()=>{},this.handleRun=()=>{},this.timeStep=e,this.previousTime=0,this.accumulatedTime=0,this.isUpdated=!1}run(e){for(this.accumulatedTime+=e-this.previousTime,this.previousTime=e,this.accumulatedTime>=3*this.timeStep&&(this.accumulatedTime=this.timeStep);this.accumulatedTime>=this.timeStep;)this.accumulatedTime-=this.timeStep,this.update(this.timeStep),this.isUpdated=!0;this.isUpdated&&(this.isUpdated=!1,this.render()),this.animationFrame=window.requestAnimationFrame(this.handleRun)}start(){this.accumulatedTime=this.timeStep,this.previousTime=window.performance.now(),window.requestAnimationFrame(this.handleRun=this.run.bind(this))}stop(){window.cancelAnimationFrame(this.animationFrame)}}(1e3/30,()=>{var e;r.drawMap(a.world.backgroundMap,a.world.columns),r.drawMap(a.world.middleMap,a.world.columns),e=a.world.player.isFacingLeft?a.world.player.animator.flippedSpriteMap.frames[a.world.player.animator.frameValue].frame:a.world.player.animator.spriteMap.frames[a.world.player.animator.frameValue].frame,r.drawObject(a.world.player.isFacingLeft?r.playerSprite.flippedImage:r.playerSprite.image,e.x,e.y,a.world.player.x+Math.floor(.5*a.world.player.width-.5*e.w),a.world.player.y-Math.floor(e.h-a.world.player.height),e.w,e.h),r.drawMap(a.world.frontMap,a.world.columns),window.SHOW_COLLISIONS&&r.drawCollisionDebugMap(a.world.collisionDebugMap),r.render(a.world.player,a.world.width,a.world.height)},()=>{t.left.isActive?a.world.player.startMovingLeft():a.world.player.isMovingLeft&&a.world.player.stopMovingLeft(),t.right.isActive?a.world.player.startMovingRight():a.world.player.isMovingRight&&a.world.player.stopMovingRight(),t.up.isActive?a.world.player.jump(t.up.isActive):a.world.player.isJumpTriggered&&a.world.player.jump(!1),t.shift.isActive?a.world.player.startSprinting():a.world.player.isSprinting&&a.world.player.stopSprinting(),t.down.isActive?a.world.player.startCroaching():a.world.player.isCroaching&&a.world.player.stopCroaching(),a.update()});r.buffer.canvas.height=a.world.height,r.buffer.canvas.width=a.world.width,window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("resize",i),yield r.mapTileset.loadAsset(v),yield r.playerSprite.loadAsset(w,!0),i(),n.start()})))}]);
//# sourceMappingURL=main.js.map